<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Imperial ‚Äî –ö–≤—ñ—Ç–∏ —Ç–∞ –ü–æ–¥–∞—Ä—É–Ω–∫–∏</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Montserrat:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #fdf8f3;
  --white: #ffffff;
  --text: #2c2420;
  --muted: #8a7a74;
  --border: #e8ddd6;
  --accent: #c9956e;
  --accent-light: #faf0e8;
  --dark: #2c2420;
}
* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior:smooth; }
body { font-family:'Montserrat',sans-serif; background:var(--bg); color:var(--text); }

/* HEADER */
.header { position:sticky; top:0; z-index:1000; background:rgba(253,248,243,0.96); backdrop-filter:blur(12px); border-bottom:1px solid var(--border); }
.header-inner { max-width:1200px; margin:0 auto; padding:0 24px; height:70px; display:flex; align-items:center; justify-content:space-between; }
.logo { font-family:'Playfair Display',serif; font-size:22px; letter-spacing:5px; font-weight:700; color:var(--accent); text-decoration:none; }
.nav { display:flex; align-items:center; gap:8px; }

.cat-btn-wrap { position:relative; }
.cat-btn { display:flex; align-items:center; gap:6px; padding:9px 18px; background:none; border:1.5px solid var(--border); border-radius:30px; cursor:pointer; font-family:'Montserrat',sans-serif; font-size:11px; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; color:var(--text); transition:all .2s; white-space:nowrap; }
.cat-btn:hover, .cat-btn.open { background:var(--accent-light); border-color:var(--accent); }
.cat-arrow { font-size:9px; transition:transform .25s; display:inline-block; }
.cat-btn.open .cat-arrow { transform:rotate(180deg); }

.dropdown { display:none; position:fixed; background:var(--white); border:1px solid var(--border); border-radius:18px; padding:8px; box-shadow:0 20px 60px rgba(44,36,32,.15); z-index:9999; min-width:220px; }
.dropdown.open { display:block; animation:fadeD .2s ease; }
@keyframes fadeD { from{opacity:0;transform:translateY(-6px)} to{opacity:1;transform:translateY(0)} }
.dd-item { display:flex; align-items:center; justify-content:space-between; width:100%; padding:10px 14px; border:none; background:none; border-radius:10px; cursor:pointer; font-family:'Montserrat',sans-serif; font-size:13px; font-weight:500; color:var(--text); text-align:left; transition:all .15s; }
.dd-item:hover { background:var(--accent-light); padding-left:18px; }
.dd-item span { font-size:12px; color:var(--muted); }
.dd-sep { height:1px; background:var(--border); margin:5px 8px; }
.dd-all { font-weight:700; color:var(--accent); }

.nav-link { padding:9px 16px; background:none; border:none; font-family:'Montserrat',sans-serif; font-size:11px; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; color:var(--muted); cursor:pointer; border-radius:30px; text-decoration:none; transition:all .2s; white-space:nowrap; }
.nav-link:hover { color:var(--text); background:var(--accent-light); }
.build-btn { width:40px; height:40px; border-radius:50%; background:var(--accent-light); border:1.5px solid var(--border); font-size:18px; cursor:pointer; transition:all .2s; display:flex; align-items:center; justify-content:center; }
.build-btn:hover { background:var(--accent); }
.cart-btn { display:flex; align-items:center; gap:7px; padding:9px 16px; background:var(--dark); border:none; border-radius:30px; cursor:pointer; color:white; font-family:'Montserrat',sans-serif; font-size:12px; font-weight:600; transition:all .2s; }
.cart-btn:hover { background:var(--accent); }
.cart-count { background:rgba(255,255,255,.25); color:white; border-radius:20px; padding:1px 7px; font-size:11px; font-weight:700; min-width:20px; text-align:center; }

/* HERO */
.hero { min-height:100svh; display:flex; align-items:center; justify-content:center; text-align:center; position:relative; overflow:hidden; padding:80px 24px; }
@keyframes f1 { 0%,100%{transform:translateY(0) rotate(-5deg)} 50%{transform:translateY(-14px) rotate(5deg)} }
@keyframes f2 { 0%,100%{transform:translateY(0) rotate(5deg)} 50%{transform:translateY(-10px) rotate(-8deg)} }
@keyframes f3 { 0%,100%{transform:translateY(0) rotate(0)} 50%{transform:translateY(-18px) rotate(6deg)} }
.fl { position:absolute; pointer-events:none; opacity:.35; }
.hero-card { background:white; border-radius:28px; padding:60px 50px; max-width:560px; box-shadow:0 20px 60px rgba(44,36,32,.08); border:1px solid var(--border); position:relative; z-index:1; }
.hero-title { font-family:'Playfair Display',serif; font-style:italic; font-size:46px; font-weight:400; line-height:1.15; color:var(--text); margin-bottom:20px; }
.hero-sub { font-size:14px; color:var(--muted); line-height:1.7; margin-bottom:36px; }
.hero-cta { display:inline-block; padding:14px 36px; background:var(--dark); color:white; border:none; border-radius:30px; cursor:pointer; font-family:'Montserrat',sans-serif; font-size:11px; font-weight:600; letter-spacing:2px; text-transform:uppercase; transition:all .25s; }
.hero-cta:hover { background:var(--accent); }

/* CATALOG */
.catalog { padding:70px 0 90px; }
.catalog-inner { max-width:900px; margin:0 auto; padding:0 24px; }
.catalog-hdr { margin-bottom:36px; }
.catalog-hdr h2 { font-family:'Playfair Display',serif; font-style:italic; font-size:36px; font-weight:400; margin-bottom:8px; }
.catalog-hdr p { font-size:14px; color:var(--muted); }

/* Accordion */
.acc-list { display:flex; flex-direction:column; gap:10px; }
.acc-block { background:var(--white); border-radius:16px; border:1px solid var(--border); overflow:hidden; transition:box-shadow .3s,border-color .3s; }
.acc-block.open { border-color:var(--accent); box-shadow:0 6px 30px rgba(201,149,110,.12); }
.acc-head { display:flex; align-items:center; gap:14px; width:100%; padding:18px 22px; background:none; border:none; cursor:pointer; text-align:left; transition:background .2s; }
.acc-head:hover, .acc-block.open .acc-head { background:var(--accent-light); }
.acc-ico { font-size:22px; flex-shrink:0; }
.acc-lbl { flex:1; font-size:15px; font-weight:600; color:var(--text); }
.acc-num { padding:3px 12px; border-radius:20px; background:var(--bg); border:1px solid var(--border); font-size:12px; font-weight:600; color:var(--muted); transition:all .2s; }
.acc-block.open .acc-num { background:var(--accent); border-color:var(--accent); color:white; }
.acc-arr { font-size:12px; color:var(--muted); transition:transform .3s; flex-shrink:0; }
.acc-block.open .acc-arr { transform:rotate(180deg); }
.acc-body { display:none; border-top:1px solid var(--border); padding:22px; animation:slideD .25s ease; }
.acc-block.open .acc-body { display:block; }
@keyframes slideD { from{opacity:0;transform:translateY(-8px)} to{opacity:1;transform:translateY(0)} }
.acc-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(170px,1fr)); gap:14px; }

/* Product card */
.pc { background:var(--white); border-radius:14px; border:1px solid var(--border); overflow:hidden; transition:all .3s; }
.pc:hover { transform:translateY(-3px); box-shadow:0 10px 28px rgba(44,36,32,.1); border-color:var(--accent); }
.pc-img { aspect-ratio:1; overflow:hidden; background:var(--bg); }
.pc-img img { width:100%; height:100%; object-fit:cover; display:block; transition:transform .4s; }
.pc:hover .pc-img img { transform:scale(1.06); }
.pc-body { padding:10px 12px 13px; }
.pc-name { font-family:'Playfair Display',serif; font-style:italic; font-size:12px; color:var(--text); margin-bottom:10px; line-height:1.4; }
.pc-btns { display:flex; gap:6px; }
.pc-cart { flex:1; padding:7px 4px; border-radius:20px; border:1.5px solid var(--border); background:none; font-family:'Montserrat',sans-serif; font-size:9px; font-weight:600; text-transform:uppercase; letter-spacing:.5px; color:var(--muted); cursor:pointer; transition:all .2s; }
.pc-cart:hover { background:var(--accent-light); border-color:var(--accent); color:var(--text); }
.pc-order { flex:1; padding:7px 4px; border-radius:20px; border:none; background:var(--dark); color:white; font-family:'Montserrat',sans-serif; font-size:9px; font-weight:600; text-transform:uppercase; letter-spacing:.5px; cursor:pointer; transition:all .2s; }
.pc-order:hover { background:var(--accent); }

/* CONTACTS */
.contacts { padding:70px 0 90px; background:white; }
.contacts-inner { max-width:600px; margin:0 auto; padding:0 24px; text-align:center; }
.contacts-inner h2 { font-family:'Playfair Display',serif; font-style:italic; font-size:36px; font-weight:400; margin-bottom:10px; }
.contacts-inner > p { font-size:14px; color:var(--muted); margin-bottom:36px; line-height:1.7; }
.contact-cards { display:flex; flex-direction:column; gap:12px; }
.contact-card { display:flex; align-items:center; gap:14px; padding:18px 22px; background:var(--bg); border:1px solid var(--border); border-radius:16px; cursor:pointer; color:var(--text); font-size:14px; font-weight:500; transition:all .2s; text-align:left; }
.contact-card:hover { background:var(--accent-light); border-color:var(--accent); transform:translateX(4px); }
.contact-ico { font-size:22px; flex-shrink:0; }

/* FOOTER */
.footer { background:var(--dark); color:rgba(255,255,255,.5); text-align:center; padding:24px; font-size:12px; letter-spacing:1px; text-transform:uppercase; }

/* OVERLAY + SIDEBAR */
.overlay { display:none; position:fixed; inset:0; background:rgba(44,36,32,.4); z-index:2000; backdrop-filter:blur(2px); }
.overlay.open { display:block; }
.sidebar { position:fixed; top:0; right:-420px; width:400px; height:100vh; background:var(--white); z-index:2001; transition:right .35s ease; display:flex; flex-direction:column; box-shadow:-10px 0 40px rgba(44,36,32,.15); }
.sidebar.open { right:0; }
.sb-head { padding:18px 22px 16px; border-bottom:1px solid var(--border); display:flex; align-items:center; justify-content:space-between; }
.sb-tabs { display:flex; gap:4px; }
.sb-tab { padding:7px 16px; border-radius:20px; border:none; background:none; font-family:'Montserrat',sans-serif; font-size:12px; font-weight:600; cursor:pointer; color:var(--muted); transition:all .2s; }
.sb-tab.active { background:var(--dark); color:white; }
.sb-close { width:34px; height:34px; border-radius:50%; border:1.5px solid var(--border); background:none; font-size:18px; cursor:pointer; color:var(--muted); display:flex; align-items:center; justify-content:center; transition:all .2s; }
.sb-close:hover { background:var(--border); }
.sb-panel { display:none; flex-direction:column; flex:1; overflow:hidden; }
.sb-panel.active { display:flex; }
.sb-scroll { flex:1; overflow-y:auto; padding:16px 22px; }
.sb-footer { padding:14px 22px; border-top:1px solid var(--border); }

/* Cart */
.cart-empty { text-align:center; padding:60px 20px; color:var(--muted); }
.cart-empty span { font-size:44px; display:block; margin-bottom:12px; opacity:.3; }
.cart-empty p { font-size:15px; font-weight:500; margin-bottom:6px; }
.cart-item { display:flex; align-items:center; gap:10px; padding:12px 0; border-bottom:1px solid var(--border); }
.ci-name { flex:1; font-size:13px; line-height:1.4; }
.ci-controls { display:flex; align-items:center; gap:6px; }
.ci-qbtn { width:26px; height:26px; border-radius:50%; border:1.5px solid var(--border); background:none; font-size:14px; cursor:pointer; color:var(--muted); display:flex; align-items:center; justify-content:center; transition:all .2s; }
.ci-qbtn:hover { border-color:var(--accent); color:var(--accent); }
.ci-qty { font-size:13px; font-weight:600; min-width:18px; text-align:center; }
.ci-rm { width:26px; height:26px; border-radius:50%; border:none; background:none; font-size:18px; cursor:pointer; color:var(--muted); display:flex; align-items:center; justify-content:center; transition:color .2s; }
.ci-rm:hover { color:#c0392b; }
.cart-total { font-size:13px; color:var(--muted); margin-bottom:12px; }
.cart-total b { color:var(--text); }
.ms-lbl { font-size:11px; font-weight:600; letter-spacing:1px; text-transform:uppercase; color:var(--muted); margin-bottom:8px; }
.ms-grid { display:grid; grid-template-columns:1fr 1fr; gap:7px; margin-bottom:10px; }
.ms-btn { padding:9px 6px; border-radius:10px; border:1.5px solid var(--border); background:none; font-family:'Montserrat',sans-serif; font-size:11px; font-weight:600; cursor:pointer; color:var(--muted); transition:all .2s; }
.ms-btn:hover, .ms-btn.active { background:var(--accent-light); border-color:var(--accent); color:var(--text); }
.order-btn { width:100%; padding:14px; border-radius:14px; background:var(--dark); border:none; color:white; font-family:'Montserrat',sans-serif; font-size:12px; font-weight:600; letter-spacing:1px; text-transform:uppercase; cursor:pointer; transition:all .25s; }
.order-btn:hover { background:var(--accent); }

/* Builder */
.bld-lbl { font-size:11px; font-weight:600; letter-spacing:1px; text-transform:uppercase; color:var(--muted); margin-bottom:10px; }
.ft-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-bottom:18px; }
.ft-btn { padding:12px 6px; border-radius:12px; border:1.5px solid var(--border); background:none; font-family:'Montserrat',sans-serif; font-size:11px; font-weight:600; cursor:pointer; color:var(--muted); transition:all .2s; text-align:center; }
.ft-btn .ft-ico { display:block; font-size:22px; margin-bottom:4px; }
.ft-btn:hover, .ft-btn.active { background:var(--accent-light); border-color:var(--accent); color:var(--text); }
.color-grid { display:flex; flex-wrap:wrap; gap:7px; margin-bottom:18px; min-height:36px; }
.color-chip { display:flex; align-items:center; gap:6px; padding:6px 12px; border-radius:20px; border:1.5px solid var(--border); background:none; font-family:'Montserrat',sans-serif; font-size:11px; font-weight:500; cursor:pointer; color:var(--muted); transition:all .2s; }
.color-chip.active { border-color:var(--accent); background:var(--accent-light); color:var(--text); }
.color-dot { width:12px; height:12px; border-radius:50%; border:1px solid rgba(0,0,0,.1); flex-shrink:0; }
.qty-row { display:flex; align-items:center; justify-content:space-between; margin-bottom:18px; }
.qty-controls { display:flex; align-items:center; gap:10px; }
.qty-btn { width:32px; height:32px; border-radius:50%; border:1.5px solid var(--border); background:none; font-size:18px; cursor:pointer; color:var(--muted); display:flex; align-items:center; justify-content:center; transition:all .2s; }
.qty-btn:hover { border-color:var(--accent); color:var(--accent); }
.qty-num { font-size:16px; font-weight:600; min-width:28px; text-align:center; }
.add-btn { width:100%; padding:12px; border-radius:12px; background:var(--accent-light); border:1.5px solid var(--accent); color:var(--accent); font-family:'Montserrat',sans-serif; font-size:11px; font-weight:700; letter-spacing:1px; text-transform:uppercase; cursor:pointer; transition:all .2s; margin-bottom:18px; }
.add-btn:hover { background:var(--accent); color:white; }
.bld-list { margin-bottom:14px; }
.bld-item { display:flex; align-items:center; gap:10px; padding:10px 0; border-bottom:1px solid var(--border); }
.bld-info { flex:1; }
.bld-title { font-size:13px; font-weight:600; }
.bld-detail { font-size:11px; color:var(--muted); }
.bld-note { width:100%; padding:10px 14px; border-radius:12px; border:1.5px solid var(--border); background:var(--bg); font-family:'Montserrat',sans-serif; font-size:13px; resize:none; outline:none; margin-bottom:12px; color:var(--text); }
.bld-note:focus { border-color:var(--accent); }

/* MODAL */
.modal-wrap { display:none; position:fixed; inset:0; z-index:3000; background:rgba(44,36,32,.45); backdrop-filter:blur(4px); align-items:center; justify-content:center; padding:20px; }
.modal-wrap.open { display:flex; }
.modal { background:white; border-radius:24px; padding:36px; width:100%; max-width:440px; max-height:calc(100svh - 40px); overflow-y:auto; box-shadow:0 30px 80px rgba(44,36,32,.2); }
.modal h3 { font-family:'Playfair Display',serif; font-style:italic; font-size:22px; font-weight:400; margin-bottom:6px; }
.modal-sub { font-size:13px; color:var(--muted); margin-bottom:22px; }
.modal-btns { display:flex; flex-direction:column; gap:10px; }
.modal-btn { display:flex; align-items:center; gap:12px; padding:14px 18px; border-radius:14px; border:1.5px solid var(--border); background:var(--bg); font-family:'Montserrat',sans-serif; font-size:13px; font-weight:500; cursor:pointer; color:var(--text); transition:all .2s; text-align:left; }
.modal-btn:hover { background:var(--accent-light); border-color:var(--accent); transform:translateX(4px); }
.modal-btn span { font-size:22px; }
.modal-cancel { width:100%; margin-top:14px; padding:12px; border-radius:12px; border:1.5px solid var(--border); background:none; font-family:'Montserrat',sans-serif; font-size:12px; font-weight:600; cursor:pointer; color:var(--muted); transition:all .2s; }
.modal-cancel:hover { background:var(--border); }

/* Mobile */
@media(max-width:768px) {
  .sidebar { width:min(100vw,400px); }
  .hero-title { font-size:32px; }
  .hero-card { padding:40px 28px; }
  .acc-grid { grid-template-columns:repeat(2,1fr); }
}
@media(max-width:480px) {
  .nav-link { display:none; }
  .hero-card { padding:30px 18px; }
  .hero-title { font-size:27px; }
}
</style>
</head>
<body>

<!-- HEADER -->
<header class="header">
  <div class="header-inner">
    <a href="#" class="logo">IMPERIAL</a>
    <nav class="nav">
      <div class="cat-btn-wrap">
        <button class="cat-btn" id="catBtn" onclick="toggleDd(event)">
          –ö–∞—Ç–∞–ª–æ–≥ <span class="cat-arrow">‚ñæ</span>
        </button>
        <div class="dropdown" id="dropdown">
          <button class="dd-item" onclick="goAcc('kulky')">üéà –ö—É–ª—å–∫–∏ <span>5</span></button>
          <button class="dd-item" onclick="goAcc('solodki')">üç¨ –°–æ–ª–æ–¥–∫—ñ –±—É–∫–µ—Ç–∏ <span>6</span></button>
          <button class="dd-item" onclick="goAcc('igrashky')">üß∏ –ú'—è–∫—ñ —ñ–≥—Ä–∞—à–∫–∏ <span>8</span></button>
          <button class="dd-item" onclick="goAcc('korobky')">üéÅ –ö–æ—Ä–æ–±–∫–∏ —Ç–∞ –∫–æ—à–∏–∫–∏ <span>10</span></button>
          <button class="dd-item" onclick="goAcc('listivky')">üíå –õ–∏—Å—Ç—ñ–≤–∫–∏ <span>27</span></button>
          <button class="dd-item" onclick="goAcc('sumochky')">üëú –°—É–º–æ—á–∫–∏ –∫–≤—ñ—Ç—ñ–≤ <span>4</span></button>
          <button class="dd-item" onclick="goAcc('troyandy')">üåπ –¢—Ä–æ—è–Ω–¥–∏ <span>9</span></button>
          <button class="dd-item" onclick="goAcc('khrizantema')">üå∏ –•—Ä–∏–∑–∞–Ω—Ç–µ–º–∞ <span>8</span></button>
          <button class="dd-item" onclick="goAcc('tulpany')">üå∑ –¢—é–ª—å–ø–∞–Ω–∏ <span>5</span></button>
          <button class="dd-item" onclick="goAcc('topery')">‚ú® –¢–æ–ø–µ—Ä–∏ <span>10</span></button>
          <div class="dd-sep"></div>
          <button class="dd-item dd-all" onclick="allAcc()">üíê –†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –≤—Å–µ</button>
        </div>
      </div>
      <a href="#contacts" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç–∏</a>
      <button class="build-btn" onclick="openSb('build')" title="–°–∫–ª–∞—Å—Ç–∏ –±—É–∫–µ—Ç">üå∏</button>
      <button class="cart-btn" onclick="openSb('cart')">üõí <span class="cart-count" id="cartCount">0</span></button>
    </nav>
  </div>
</header>

<!-- HERO -->
<section class="hero" id="hero">
  <div class="fl" style="left:4%;top:15%;width:70px;height:70px;animation:f1 7s ease-in-out infinite">
    <svg viewBox="0 0 60 60"><circle cx="30" cy="30" r="7" fill="#e8b4a0"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(0 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(60 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#eda090" transform="rotate(120 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(180 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(240 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#eda090" transform="rotate(300 30 30)"/><circle cx="30" cy="30" r="6" fill="#f5d5a0"/></svg>
  </div>
  <div class="fl" style="left:6%;top:60%;width:50px;height:50px;animation:f2 9s ease-in-out infinite 1s">
    <svg viewBox="0 0 60 60"><circle cx="30" cy="30" r="7" fill="#d4a0b0"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8b4c4" transform="rotate(0 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8b4c4" transform="rotate(60 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#d490a4" transform="rotate(120 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8b4c4" transform="rotate(180 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8b4c4" transform="rotate(240 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#d490a4" transform="rotate(300 30 30)"/><circle cx="30" cy="30" r="6" fill="#f5d5a0"/></svg>
  </div>
  <div class="fl" style="left:3%;top:82%;width:40px;height:40px;animation:f3 8s ease-in-out infinite 2s">
    <svg viewBox="0 0 60 60"><circle cx="30" cy="30" r="7" fill="#e8b4a0"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f9d0c0" transform="rotate(0 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f9d0c0" transform="rotate(60 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8a890" transform="rotate(120 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f9d0c0" transform="rotate(180 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f9d0c0" transform="rotate(240 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8a890" transform="rotate(300 30 30)"/><circle cx="30" cy="30" r="6" fill="#f5d5a0"/></svg>
  </div>
  <div class="fl" style="right:5%;top:12%;width:80px;height:80px;animation:f2 6s ease-in-out infinite .5s">
    <svg viewBox="0 0 60 60"><circle cx="30" cy="30" r="7" fill="#e8b4a0"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(0 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(60 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#eda090" transform="rotate(120 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(180 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(240 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#eda090" transform="rotate(300 30 30)"/><circle cx="30" cy="30" r="6" fill="#f5d5a0"/></svg>
  </div>
  <div class="fl" style="right:7%;top:50%;width:55px;height:55px;animation:f1 10s ease-in-out infinite 3s">
    <svg viewBox="0 0 60 60"><circle cx="30" cy="30" r="7" fill="#d4a0b0"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8b4c4" transform="rotate(0 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8b4c4" transform="rotate(60 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#d490a4" transform="rotate(120 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8b4c4" transform="rotate(180 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#e8b4c4" transform="rotate(240 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#d490a4" transform="rotate(300 30 30)"/><circle cx="30" cy="30" r="6" fill="#f5d5a0"/></svg>
  </div>
  <div class="fl" style="right:4%;top:75%;width:44px;height:44px;animation:f3 7s ease-in-out infinite 1.5s">
    <svg viewBox="0 0 60 60"><circle cx="30" cy="30" r="7" fill="#e8b4a0"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(0 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(60 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#eda090" transform="rotate(120 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(180 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#f2c4b0" transform="rotate(240 30 30)"/><ellipse cx="30" cy="14" rx="7" ry="11" fill="#eda090" transform="rotate(300 30 30)"/><circle cx="30" cy="30" r="6" fill="#f5d5a0"/></svg>
  </div>
  <div class="hero-card">
    <h1 class="hero-title">–ï–∫—Å–∫–ª—é–∑–∏–≤–Ω—ñ –∫–≤—ñ—Ç–∏ –¥–ª—è –≤–∞—à–∏—Ö –æ—Å–æ–±–ª–∏–≤–∏—Ö –º–æ–º–µ–Ω—Ç—ñ–≤</h1>
    <p class="hero-sub">–ö–æ–∂–µ–Ω –±—É–∫–µ—Ç ‚Äî —Ü–µ –≤–∏—Ç–≤—ñ—Ä –º–∏—Å—Ç–µ—Ü—Ç–≤–∞, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑ –ª—é–±–æ–≤'—é —Ç–∞ —É–≤–∞–≥–æ—é –¥–æ –Ω–∞–π–º–µ–Ω—à–∏—Ö –¥–µ—Ç–∞–ª–µ–π.</p>
    <button class="hero-cta" onclick="document.getElementById('catalog').scrollIntoView({behavior:'smooth'})">–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –±—É–∫–µ—Ç–∏</button>
  </div>
</section>

<!-- CATALOG -->
<section class="catalog" id="catalog">
  <div class="catalog-inner">
    <div class="catalog-hdr">
      <h2>–ö–∞—Ç–∞–ª–æ–≥</h2>
      <p>–û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é ‚Äî –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å —â–æ–± —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏</p>
    </div>
    <div class="acc-list">
      <div class="acc-block" id="acc-kulky">
        <button class="acc-head" onclick="toggleAcc('kulky')"><span class="acc-ico">üéà</span><span class="acc-lbl">–ö—É–ª—å–∫–∏</span><span class="acc-num">5</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-kulky"><div class="acc-grid" id="grid-kulky"></div></div>
      </div>
      <div class="acc-block" id="acc-solodki">
        <button class="acc-head" onclick="toggleAcc('solodki')"><span class="acc-ico">üç¨</span><span class="acc-lbl">–°–æ–ª–æ–¥–∫—ñ –±—É–∫–µ—Ç–∏</span><span class="acc-num">6</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-solodki"><div class="acc-grid" id="grid-solodki"></div></div>
      </div>
      <div class="acc-block" id="acc-igrashky">
        <button class="acc-head" onclick="toggleAcc('igrashky')"><span class="acc-ico">üß∏</span><span class="acc-lbl">–ú'—è–∫—ñ —ñ–≥—Ä–∞—à–∫–∏</span><span class="acc-num">8</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-igrashky"><div class="acc-grid" id="grid-igrashky"></div></div>
      </div>
      <div class="acc-block" id="acc-korobky">
        <button class="acc-head" onclick="toggleAcc('korobky')"><span class="acc-ico">üéÅ</span><span class="acc-lbl">–ö–æ—Ä–æ–±–∫–∏ —Ç–∞ –∫–æ—à–∏–∫–∏</span><span class="acc-num">10</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-korobky"><div class="acc-grid" id="grid-korobky"></div></div>
      </div>
      <div class="acc-block" id="acc-listivky">
        <button class="acc-head" onclick="toggleAcc('listivky')"><span class="acc-ico">üíå</span><span class="acc-lbl">–õ–∏—Å—Ç—ñ–≤–∫–∏</span><span class="acc-num">27</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-listivky"><div class="acc-grid" id="grid-listivky"></div></div>
      </div>
      <div class="acc-block" id="acc-sumochky">
        <button class="acc-head" onclick="toggleAcc('sumochky')"><span class="acc-ico">üëú</span><span class="acc-lbl">–°—É–º–æ—á–∫–∏ –∫–≤—ñ—Ç—ñ–≤</span><span class="acc-num">4</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-sumochky"><div class="acc-grid" id="grid-sumochky"></div></div>
      </div>
      <div class="acc-block" id="acc-troyandy">
        <button class="acc-head" onclick="toggleAcc('troyandy')"><span class="acc-ico">üåπ</span><span class="acc-lbl">–¢—Ä–æ—è–Ω–¥–∏</span><span class="acc-num">9</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-troyandy"><div class="acc-grid" id="grid-troyandy"></div></div>
      </div>
      <div class="acc-block" id="acc-khrizantema">
        <button class="acc-head" onclick="toggleAcc('khrizantema')"><span class="acc-ico">üå∏</span><span class="acc-lbl">–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∞</span><span class="acc-num">8</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-khrizantema"><div class="acc-grid" id="grid-khrizantema"></div></div>
      </div>
      <div class="acc-block" id="acc-tulpany">
        <button class="acc-head" onclick="toggleAcc('tulpany')"><span class="acc-ico">üå∑</span><span class="acc-lbl">–¢—é–ª—å–ø–∞–Ω–∏</span><span class="acc-num">5</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-tulpany"><div class="acc-grid" id="grid-tulpany"></div></div>
      </div>
      <div class="acc-block" id="acc-topery">
        <button class="acc-head" onclick="toggleAcc('topery')"><span class="acc-ico">‚ú®</span><span class="acc-lbl">–¢–æ–ø–µ—Ä–∏</span><span class="acc-num">10</span><span class="acc-arr">‚ñæ</span></button>
        <div class="acc-body" id="body-topery"><div class="acc-grid" id="grid-topery"></div></div>
      </div>
    </div>
  </div>
</section>

<!-- CONTACTS -->
<section class="contacts" id="contacts">
  <div class="contacts-inner">
    <h2>–ó–≤'—è–∑–∞—Ç–∏—Å—è –∑ –Ω–∞–º–∏</h2>
    <p>–©–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –∞–∫—Ç—É–∞–ª—å–Ω—É —Ü—ñ–Ω—É –∞–±–æ –∑—Ä–æ–±–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è,<br>–Ω–∞–ø–∏—à—ñ—Ç—å –Ω–∞–º —É –∑—Ä—É—á–Ω–æ–º—É –º–µ—Å–µ–Ω–¥–∂–µ—Ä—ñ:</p>
    <div class="contact-cards">
      <button class="contact-card" onclick="openContact('telegram')"><span class="contact-ico">‚úàÔ∏è</span> Telegram: +380970938241</button>
      <button class="contact-card" onclick="openContact('whatsapp')"><span class="contact-ico">üí¨</span> WhatsApp: +380970938241</button>
      <button class="contact-card" onclick="openContact('viber')"><span class="contact-ico">üì±</span> Viber: +380970938241</button>
      <button class="contact-card" onclick="openContact('instagram')"><span class="contact-ico">üì∏</span> Instagram: @kvi_tka24</button>
    </div>
  </div>
</section>

<footer class="footer">¬© 2026 Imperial. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</footer>

<!-- OVERLAY -->
<div class="overlay" id="overlay" onclick="closeSb()"></div>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <div class="sb-head">
    <div class="sb-tabs">
      <button class="sb-tab active" id="tab-cart" onclick="switchTab('cart')">üõí –ö–æ—à–∏–∫</button>
      <button class="sb-tab" id="tab-build" onclick="switchTab('build')">üå∏ –°–≤—ñ–π –±—É–∫–µ—Ç</button>
    </div>
    <button class="sb-close" onclick="closeSb()">‚úï</button>
  </div>
  <!-- Cart -->
  <div class="sb-panel active" id="panel-cart">
    <div class="sb-scroll" id="cartItems">
      <div class="cart-empty"><span>üå∏</span><p>–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p><small>–î–æ–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä–∏</small></div>
    </div>
    <div class="sb-footer" id="cartFooter" style="display:none">
      <div class="cart-total">–¢–æ–≤–∞—Ä—ñ–≤: <b id="cartTotal">0</b></div>
      <div class="ms-lbl">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ —á–µ—Ä–µ–∑:</div>
      <div class="ms-grid">
        <button class="ms-btn active" data-m="telegram" onclick="selMs(this,'telegram')">‚úàÔ∏è Telegram</button>
        <button class="ms-btn" data-m="whatsapp" onclick="selMs(this,'whatsapp')">üí¨ WhatsApp</button>
        <button class="ms-btn" data-m="viber" onclick="selMs(this,'viber')">üì± Viber</button>
        <button class="ms-btn" data-m="instagram" onclick="selMs(this,'instagram')">üì∏ Instagram</button>
      </div>
      <button class="order-btn" onclick="sendOrder()">–û—Ñ–æ—Ä–º–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è üå∏</button>
    </div>
  </div>
  <!-- Builder -->
  <div class="sb-panel" id="panel-build">
    <div class="sb-scroll">
      <div class="bld-lbl">1. –û–±–µ—Ä—ñ—Ç—å –∫–≤—ñ—Ç–∫—É</div>
      <div class="ft-grid">
        <button class="ft-btn active" data-type="–¢—Ä–æ—è–Ω–¥–∏" onclick="selFlower(this)"><span class="ft-ico">üåπ</span>–¢—Ä–æ—è–Ω–¥–∏</button>
        <button class="ft-btn" data-type="–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∏" onclick="selFlower(this)"><span class="ft-ico">üå∏</span>–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∏</button>
        <button class="ft-btn" data-type="–¢—é–ª—å–ø–∞–Ω–∏" onclick="selFlower(this)"><span class="ft-ico">üå∑</span>–¢—é–ª—å–ø–∞–Ω–∏</button>
      </div>
      <div class="bld-lbl">2. –ö–æ–ª—ñ—Ä</div>
      <div class="color-grid" id="colorGrid"></div>
      <div class="qty-row">
        <div class="bld-lbl" style="margin-bottom:0">3. –ö—ñ–ª—å–∫—ñ—Å—Ç—å</div>
        <div class="qty-controls">
          <button class="qty-btn" onclick="chQty(-1)">‚àí</button>
          <span class="qty-num" id="bldQty">1</span>
          <button class="qty-btn" onclick="chQty(1)">+</button>
        </div>
      </div>
      <button class="add-btn" onclick="addToBld()">+ –î–æ–¥–∞—Ç–∏ –¥–æ –±—É–∫–µ—Ç—É</button>
      <div class="bld-list" id="bldList"></div>
      <textarea class="bld-note" id="bldNote" rows="3" placeholder="–ü–æ–±–∞–∂–∞–Ω–Ω—è: –∑–µ–ª–µ–Ω—å, —Å—Ç—Ä—ñ—á–∫–∞, –ø–∞–∫—É–≤–∞–Ω–Ω—è..."></textarea>
    </div>
    <div class="sb-footer">
      <div class="ms-grid">
        <button class="ms-btn active" data-bm="telegram" onclick="selBldMs(this,'telegram')">‚úàÔ∏è Telegram</button>
        <button class="ms-btn" data-bm="whatsapp" onclick="selBldMs(this,'whatsapp')">üí¨ WhatsApp</button>
        <button class="ms-btn" data-bm="viber" onclick="selBldMs(this,'viber')">üì± Viber</button>
        <button class="ms-btn" data-bm="instagram" onclick="selBldMs(this,'instagram')">üì∏ Instagram</button>
      </div>
      <button class="order-btn" onclick="sendBld()">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è üå∏</button>
    </div>
  </div>
</div>

<!-- MODAL -->
<div class="modal-wrap" id="modal" onclick="if(event.target===this)closeModal()">
  <div class="modal">
    <h3 id="modalTitle">–ó–∞–º–æ–≤–∏—Ç–∏</h3>
    <p class="modal-sub" id="modalSub">–û–±–µ—Ä—ñ—Ç—å –∑—Ä—É—á–Ω–∏–π –º–µ—Å–µ–Ω–¥–∂–µ—Ä:</p>
    <div class="modal-btns">
      <button class="modal-btn" onclick="sendModal('telegram')"><span>‚úàÔ∏è</span> Telegram</button>
      <button class="modal-btn" onclick="sendModal('whatsapp')"><span>üí¨</span> WhatsApp</button>
      <button class="modal-btn" onclick="sendModal('viber')"><span>üì±</span> Viber</button>
      <button class="modal-btn" onclick="sendModal('instagram')"><span>üì∏</span> Instagram</button>
    </div>
    <button class="modal-cancel" onclick="closeModal()">–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
  </div>
</div>

<script>
// === CATALOG ===
const CATS = [
  {id:'kulky',       lbl:'–ö—É–ª—å–∫–∏',            dir:'–ö—É–ª—å–∫–∏',                    p:'4', n:5 },
  {id:'solodki',     lbl:'–°–æ–ª–æ–¥–∫—ñ –±—É–∫–µ—Ç–∏',    dir:'–°–æ–ª–æ–¥–∫—ñ –±—É–∫–µ—Ç–∏',            p:'5', n:6 },
  {id:'igrashky',    lbl:"–ú'—è–∫—ñ —ñ–≥—Ä–∞—à–∫–∏",     dir:'–ú—è–∫—ñ —ñ–≥—Ä–∞—à–∫–∏',              p:'6', n:8 },
  {id:'korobky',     lbl:'–ö–æ—Ä–æ–±–∫–∏ —Ç–∞ –∫–æ—à–∏–∫–∏', dir:'–ö–æ—Ä–æ–±–∫–∏ —Å—É–º–æ—á–∫–∏ —Ç–∞ –∫–æ—Ä–∑–∏–Ω–∏',p:'8', n:10},
  {id:'listivky',    lbl:'–õ–∏—Å—Ç—ñ–≤–∫–∏',          dir:'–õ–∏—Å—Ç—ñ–≤–∫–∏',                  p:'9', n:27},
  {id:'sumochky',    lbl:'–°—É–º–æ—á–∫–∏ –∫–≤—ñ—Ç—ñ–≤',    dir:'–°—É–º–æ—á–∫–∏ –∫–≤—ñ—Ç—ñ–≤',            p:'10',n:4 },
  {id:'troyandy',    lbl:'–¢—Ä–æ—è–Ω–¥–∏',           dir:'—Ç—Ä–æ—è–Ω–¥–∏',                   p:'1', n:9 },
  {id:'khrizantema', lbl:'–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∞',        dir:'–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∞',                p:'2', n:8 },
  {id:'tulpany',     lbl:'–¢—é–ª—å–ø–∞–Ω–∏',          dir:'–¢—é–ª—å–ø–∞–Ω–∏',                  p:'3', n:5 },
  {id:'topery',      lbl:'–¢–æ–ø–µ—Ä–∏',            dir:'–¢–æ–ø–µ—Ä–∏',                    p:'7', n:10},
];

// Build grids
document.addEventListener('DOMContentLoaded', () => {
  CATS.forEach(c => {
    const g = document.getElementById('grid-' + c.id);
    if (!g) return;
    g.innerHTML = Array.from({length:c.n},(_,i)=>{
      const name = c.lbl + ' #' + (i+1);
      const src  = 'images/images1/' + c.dir + '/' + c.p + '.' + (i+1) + '.jpg';
      const ns   = name.replace(/'/g,"\\'");
      return `<div class="pc"><div class="pc-img"><img src="${src}" alt="${name}" loading="lazy" onerror="this.parentElement.style.background='#f5ede6'"></div><div class="pc-body"><div class="pc-name">${name}</div><div class="pc-btns"><button class="pc-cart" onclick="addCart('${ns}')">–í –∫–æ—à–∏–∫</button><button class="pc-order" onclick="openModal('${ns}')">–ó–∞–º–æ–≤–∏—Ç–∏</button></div></div></div>`;
    }).join('');
  });
  renderColors('–¢—Ä–æ—è–Ω–¥–∏');
});

// === ACCORDION ===
function toggleAcc(id) {
  const blk = document.getElementById('acc-'+id);
  const bdy = document.getElementById('body-'+id);
  if (!blk || !bdy) return;
  const was = blk.classList.contains('open');
  document.querySelectorAll('.acc-block').forEach(b=>b.classList.remove('open'));
  document.querySelectorAll('.acc-body').forEach(b=>b.classList.remove('open'));
  if (!was) { blk.classList.add('open'); bdy.classList.add('open'); }
}

function goAcc(id) {
  closeDd();
  setTimeout(()=>{
    document.querySelectorAll('.acc-block').forEach(b=>b.classList.remove('open'));
    document.querySelectorAll('.acc-body').forEach(b=>b.classList.remove('open'));
    const blk = document.getElementById('acc-'+id);
    const bdy = document.getElementById('body-'+id);
    if (blk && bdy) { blk.classList.add('open'); bdy.classList.add('open'); }
    setTimeout(()=>blk&&blk.scrollIntoView({behavior:'smooth',block:'start'}),50);
  },80);
}

function allAcc() {
  closeDd();
  setTimeout(()=>{
    document.querySelectorAll('.acc-block').forEach(b=>b.classList.add('open'));
    document.querySelectorAll('.acc-body').forEach(b=>b.classList.add('open'));
    setTimeout(()=>document.getElementById('catalog').scrollIntoView({behavior:'smooth'}),50);
  },80);
}

// === DROPDOWN ===
function toggleDd(e) {
  e.stopPropagation();
  const dd = document.getElementById('dropdown');
  const btn = document.getElementById('catBtn');
  const open = dd.classList.contains('open');
  if (!open) {
    const r = btn.getBoundingClientRect();
    dd.style.left = r.left + 'px';
    dd.style.top = (r.bottom + 6) + 'px';
  }
  dd.classList.toggle('open', !open);
  btn.classList.toggle('open', !open);
}
function closeDd() {
  document.getElementById('dropdown').classList.remove('open');
  document.getElementById('catBtn').classList.remove('open');
}
document.addEventListener('click', e => {
  if (!document.getElementById('catBtn').contains(e.target)) closeDd();
});

// === SIDEBAR ===
function openSb(panel) {
  document.getElementById('sidebar').classList.add('open');
  document.getElementById('overlay').classList.add('open');
  document.body.style.overflow = 'hidden';
  switchTab(panel || 'cart');
}
function closeSb() {
  document.getElementById('sidebar').classList.remove('open');
  document.getElementById('overlay').classList.remove('open');
  document.body.style.overflow = '';
}
function switchTab(id) {
  document.querySelectorAll('.sb-tab').forEach(t=>t.classList.remove('active'));
  document.querySelectorAll('.sb-panel').forEach(p=>p.classList.remove('active'));
  document.getElementById('tab-'+id).classList.add('active');
  document.getElementById('panel-'+id).classList.add('active');
}

// === CART ===
let cart=[], cartMs='telegram';

function addCart(name) {
  const item = cart.find(i=>i.name===name);
  if (item) item.qty++; else cart.push({name,qty:1});
  renderCart();
  openSb('cart');
}
function remCart(name) {
  cart = cart.filter(i=>i.name!==name);
  renderCart();
}
function chCart(name, d) {
  const item = cart.find(i=>i.name===name);
  if (item) { item.qty = Math.max(1, item.qty+d); renderCart(); }
}
function renderCart() {
  const total = cart.reduce((s,i)=>s+i.qty,0);
  document.getElementById('cartCount').textContent = total;
  const el = document.getElementById('cartItems');
  const ft = document.getElementById('cartFooter');
  if (!cart.length) {
    el.innerHTML = '<div class="cart-empty"><span>üå∏</span><p>–ö–æ—à–∏–∫ –ø–æ—Ä–æ–∂–Ω—ñ–π</p><small>–î–æ–¥–∞–π—Ç–µ —Ç–æ–≤–∞—Ä–∏</small></div>';
    ft.style.display = 'none';
  } else {
    el.innerHTML = cart.map(i=>{
      const n=i.name.replace(/'/g,"\\'");
      return `<div class="cart-item"><div class="ci-name">${i.name}</div><div class="ci-controls"><button class="ci-qbtn" onclick="chCart('${n}',-1)">‚àí</button><span class="ci-qty">${i.qty}</span><button class="ci-qbtn" onclick="chCart('${n}',1)">+</button><button class="ci-rm" onclick="remCart('${n}')">√ó</button></div></div>`;
    }).join('');
    document.getElementById('cartTotal').textContent = total;
    ft.style.display = 'block';
  }
}
function selMs(btn, m) {
  cartMs = m;
  document.querySelectorAll('[data-m]').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}
function sendOrder() {
  if (!cart.length) return;
  const lines = cart.map(i=>`‚Ä¢ ${i.name}${i.qty>1?' ‚Äî '+i.qty+' —à—Ç.':''}`).join('\n');
  sendMsg(cartMs, `–í—ñ—Ç–∞—é! üå∏ –•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏:\n\n${lines}\n\n–ü—ñ–¥–∫–∞–∂—ñ—Ç—å —Ü—ñ–Ω—É —Ç–∞ –¥–µ—Ç–∞–ª—ñ?`);
  closeSb();
}

// === MODAL ===
let modalName = '';
function openModal(name) {
  modalName = name;
  document.getElementById('modalTitle').textContent = name;
  document.getElementById('modal').classList.add('open');
}
function closeModal() {
  document.getElementById('modal').classList.remove('open');
  modalName = '';
}
function sendModal(platform) {
  sendMsg(platform, `–í—ñ—Ç–∞—é! üå∏ –•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏: ${modalName}\n\n–ü—ñ–¥–∫–∞–∂—ñ—Ç—å, –±—É–¥—å –ª–∞—Å–∫–∞, –∞–∫—Ç—É–∞–ª—å–Ω—É —Ü—ñ–Ω—É?`);
  closeModal();
}

// === CONTACTS ===
function openContact(p) {
  sendMsg(p, '–í—ñ—Ç–∞—é! –•–æ—á—É –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ –ø—Ä–æ –∫–≤—ñ—Ç–∏ —Ç–∞ –ø–æ–¥–∞—Ä—É–Ω–∫–∏ üå∏');
}

// === MESSENGER ===
function sendMsg(p, msg) {
  const phone = '380970938241';
  const enc = encodeURIComponent(msg);
  const urls = {
    telegram: `https://t.me/+${phone}?text=${enc}`,
    whatsapp: `https://wa.me/${phone}?text=${enc}`,
    viber:    `viber://chat?number=%2B${phone}&text=${enc}`,
    instagram:`https://instagram.com/kvi_tka24`,
  };
  if (p==='viber'||p==='instagram') navigator.clipboard?.writeText(msg).catch(()=>{});
  window.open(urls[p],'_blank');
}

// === BUILDER ===
const COLORS = {
  '–¢—Ä–æ—è–Ω–¥–∏':    [{n:'–ß–µ—Ä–≤–æ–Ω—ñ',c:'#c0392b'},{n:'–†–æ–∂–µ–≤—ñ',c:'#e91e8c'},{n:'–ë—ñ–ª—ñ',c:'#f5f0eb'},{n:'–ö—Ä–µ–º–æ–≤—ñ',c:'#f0d9b5'},{n:'–ñ–æ–≤—Ç—ñ',c:'#f1c40f'},{n:'–ë–æ—Ä–¥–æ–≤—ñ',c:'#7b1e3a'},{n:'–ü–µ—Ä—Å–∏–∫–æ–≤—ñ',c:'#ffb347'}],
  '–•—Ä–∏–∑–∞–Ω—Ç–µ–º–∏':[{n:'–ë—ñ–ª—ñ',c:'#f5f0eb'},{n:'–ñ–æ–≤—Ç—ñ',c:'#f1c40f'},{n:'–†–æ–∂–µ–≤—ñ',c:'#e91e8c'},{n:'–§—ñ–æ–ª–µ—Ç–æ–≤—ñ',c:'#8e44ad'},{n:'–ö—Ä–µ–º–æ–≤—ñ',c:'#f0d9b5'}],
  '–¢—é–ª—å–ø–∞–Ω–∏':  [{n:'–ß–µ—Ä–≤–æ–Ω—ñ',c:'#c0392b'},{n:'–†–æ–∂–µ–≤—ñ',c:'#e91e8c'},{n:'–ë—ñ–ª—ñ',c:'#f5f0eb'},{n:'–ñ–æ–≤—Ç—ñ',c:'#f1c40f'},{n:'–§—ñ–æ–ª–µ—Ç–æ–≤—ñ',c:'#8e44ad'},{n:'–ü–æ–º–∞—Ä–∞–Ω—á–µ–≤—ñ',c:'#e67e22'}],
};
let curF='–¢—Ä–æ—è–Ω–¥–∏', curC=null, bldQty=1, bouquet=[], bldMs='telegram';

function renderColors(type) {
  const g = document.getElementById('colorGrid');
  if (!g) return;
  g.innerHTML = (COLORS[type]||[]).map(({n,c})=>`<button class="color-chip${curC===n?' active':''}" onclick="selColor('${n}')" data-c="${n}"><span class="color-dot" style="background:${c}"></span>${n}</button>`).join('');
}
function selFlower(btn) {
  document.querySelectorAll('.ft-btn').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active'); curF=btn.dataset.type; curC=null; renderColors(curF);
}
function selColor(n) {
  curC=n;
  document.querySelectorAll('.color-chip').forEach(c=>c.classList.toggle('active',c.dataset.c===n));
}
function chQty(d) { bldQty=Math.max(1,Math.min(999,bldQty+d)); document.getElementById('bldQty').textContent=bldQty; }
function addToBld() {
  if (!curC) { alert('–û–±–µ—Ä—ñ—Ç—å –∫–æ–ª—ñ—Ä'); return; }
  bouquet.push({type:curF,color:curC,qty:bldQty});
  curC=null; bldQty=1; document.getElementById('bldQty').textContent='1'; renderColors(curF);
  renderBld();
}
function remBld(i) { bouquet.splice(i,1); renderBld(); }
function renderBld() {
  document.getElementById('bldList').innerHTML = bouquet.map((f,i)=>`<div class="bld-item"><div class="bld-info"><div class="bld-title">${f.type}</div><div class="bld-detail">${f.color} ¬∑ ${f.qty} —à—Ç.</div></div><button class="ci-rm" onclick="remBld(${i})">√ó</button></div>`).join('');
}
function selBldMs(btn, m) {
  bldMs=m;
  document.querySelectorAll('[data-bm]').forEach(b=>b.classList.remove('active'));
  btn.classList.add('active');
}
function sendBld() {
  if (!bouquet.length) { alert('–î–æ–¥–∞–π—Ç–µ –∫–≤—ñ—Ç–∏ –¥–æ –±—É–∫–µ—Ç—É'); return; }
  const note = document.getElementById('bldNote').value.trim();
  const lines = bouquet.map(f=>`‚Ä¢ ${f.type} (${f.color}) ‚Äî ${f.qty} —à—Ç.`).join('\n');
  let msg = `–í—ñ—Ç–∞—é! üå∏ –•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏ –±—É–∫–µ—Ç:\n\n${lines}`;
  if (note) msg+=`\n\nüìù –ü–æ–±–∞–∂–∞–Ω–Ω—è: ${note}`;
  msg+=`\n\n–ü—ñ–¥–∫–∞–∂—ñ—Ç—å —Ü—ñ–Ω—É —Ç–∞ –¥–µ—Ç–∞–ª—ñ?`;
  sendMsg(bldMs, msg);
  closeSb();
}
</script>
</body>
</html>
